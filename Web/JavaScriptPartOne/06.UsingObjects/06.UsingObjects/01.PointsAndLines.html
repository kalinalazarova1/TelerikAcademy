<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Points and lines</title>
    <link href="js-console.min.css" rel="stylesheet" />
</head>
<body>
    <!--Write functions for working with shapes in  standard Planar coordinate system
        Points are represented by coordinates P(X, Y)
        Lines are represented by two points, marking their beginning and ending
        L(P1(X1,Y1),P2(X2,Y2))
        Calculate the distance between two points
        Check if three segment lines can form a triangle-->
    <div id="js-console">
        <label for="number-input1">Input first segment start and end coordinates separated by spaces and press Enter: </label>
        <input type="text" id="number-input1" onkeydown="onEnterKeyPressed(event)" />
        <br />
        <label for="number-input2">Input second segment start and end coordinates separated by spaces and press Enter: </label>
        <input type="text" id="number-input2" onkeydown="onEnterKeyPressed(event)" />
        <br />
        <label for="number-input3">Input third segment start and end coordinates separated by spaces and press Enter: </label>
        <input type="text" id="number-input3" onkeydown="onEnterKeyPressed(event)" />
        <br />
    </div>
    <script src="js-console.js"></script>
    <script>
        window.onload = function () {
            document.getElementById("number-input1").focus();
        }

        function pointsAndLinesTest() {
            var first = jsConsole.read("input#number-input1").split(' ');
            var second = jsConsole.read("input#number-input2").split(' ');
            var third = jsConsole.read("input#number-input3").split(' ');
            var point1start = new Point(first[0], first[1]);
            var point1end = new Point(first[2], first[3]);
            var point2start = new Point(second[0], second[1]);
            var point2end = new Point(second[2], second[3]);
            var point3start = new Point(third[0], third[1]);
            var point3end = new Point(third[2], third[3]);
            var line1 = new Line(point1start, point1end);
            var line2 = new Line(point2start, point2end);
            var line3 = new Line(point3start, point3end);
            jsConsole.writeLine("The distance between " + point1start + " and " + point1end + " is: " + calcDistance(point1start, point1end));
            jsConsole.writeLine("The distance between " + point2start + " and " + point2end + " is: " + calcDistance(point2start, point2end));
            jsConsole.writeLine("The distance between " + point3start + " and " + point3end + " is: " + calcDistance(point3start, point3end));
            jsConsole.writeLine("The three segments of the lines: " + line1 + " " + line2 + " " + line3 + " " + (formsTriangle(line1, line2, line3) ? " can " : " can not ") + "form triangle.");
        }

        function Point(x, y) {
            this.x = x;
            this.y = y;
            this.toString = function () { return "Point (" + this.x + ", " + this.y + ")"; };
        }

        function Line(point1, point2) {
            this.start = point1;
            this.end = point2;
            this.length = function () { return calcDistance(this.start, this.end); };
            this.toString = function () { return "Line (" + this.start + ", " + this.end + ")"; };
        }

        function calcDistance(point1, point2) {
            return Math.sqrt((point1.x - point2.x) * (point1.x - point2.x) + (point1.y - point2.y) * (point1.y - point2.y));
        }

        function formsTriangle(segment1, segment2, segment3) {
            var a = segment1.length;
            var b = segment2.length;
            var c = segment3.length;
            return ((a + b) > c) && ((a + c) > b) && ((b + c) > a);
        }

        function onEnterKeyPressed(event) {
            if (event.keyCode == 13) {
                if (document.activeElement == document.getElementById("number-input1")) {
                    document.getElementById("number-input2").focus();
                }
                else if (document.activeElement == document.getElementById("number-input2")) {
                    document.getElementById("number-input3").focus();
                }
                else {
                    pointsAndLinesTest();
                }
            }
        }
    </script>
</body>
</html>